<html>
  <head>
    <script src="https://unpkg.com/aframe@latest"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://unpkg.com/aframe-text-geometry-component@^0.5.0/dist/aframe-text-geometry-component.min.js"></script> 
  </head>
  <body>

    <a-scene vr-mode-ui="enabled: false" >

        <a-entity position="-0 0 0" rotation="0 180 0">
            <a-camera listener look-controls wasd-controls="acceleration: 100 ></a-camera>
        </a-entity>


        <a-entity id="box" cursor-listener geometry="primitive: box" material="color: blue"></a-entity>

          <!-- look-controls wasd-controls="acceleration: 100" -->
       
    
    <!-- fog="type: exponential; color: #1e1e22; density: 0.3" -->

    
    <a-entity geometry="primitive: box" material="color: blue" scale="30 20 80" position="-9.141  0.000 14.063" scale="5 5 5" sound="src: url(sound/beginning.mp3); distanceModel: linear; maxDistance: 55; volume: 0.1; autoplay: true; loop: true;"></a-entity>

    
    <a-entity visible="false"; geometry="primitive: box" material="color: blue" scale="15 15 15" position="-9.020 0.489 66.850" scale="5 5 5" sound="src: url(sound/billEvans.mp3); distanceModel: linear; maxDistance: 10; volume: 0.08; autoplay: true; loop: true;"></a-entity>


    <a-entity id="text1" position="0.092 1.499 0.761" rotation="0 180 0" 
    scale="0.6 0.6 0.6" 
    text="align: center; anchor: center; width: 1.5; color: white; xOffset: 0.150;
    zOffset: -0.5; value: Shivering cold. 
    Scars deep and bold.
    This young girl has been through a lot. 
    Let the truth be told...; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/amaticsc/AmaticSC-Bold.json;">
  </a-entity>

<a-entity text2 text="shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/amaticsc/AmaticSC-Bold.json;"  position="-10.345  1.35 30" rotation="0 180 0" scale="2 2 2"></a-entity>

<a-entity text3 text="shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/amaticsc/AmaticSC-Bold.json;"position="-10.345 1.35 35" rotation="0 180 0" scale="2 2 2"></a-entity>

<a-entity text4 text="shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/amaticsc/AmaticSC-Bold.json;" position="-10.345 1.35 40.3" rotation="0 180 0" scale="2 2 2"></a-entity>

  <a-entity text8 id="text5" position="-8.456 0.698 35.574" rotation="0 320 0" 
  scale="1.2 1.2 1.2" 
  text= "shader: msdf; font: https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/amaticsc/AmaticSC-Bold.json; align: center; anchor: center; width: 1.5; color: white; xOffset: 0.150;
  zOffset: -0.5;"> 
</a-entity>

<a-entity text6 text="side: double; shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/amaticsc/AmaticSC-Bold.json;" position="-8.999 1.1 49.502" rotation="0 180 0" scale="1.4 1.4 1.4"></a-entity>

<a-entity text7="" text="shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/amaticsc/AmaticSC-Bold.json;" position="-9.01998 0.49892 70.01805" rotation="0 180 0" scale="1.3 1.3 1.3"></a-entity>

<a-entity text9="" text="shader: msdf; font:https://raw.githubusercontent.com/etiennepinchon/aframe-fonts/master/fonts/amaticsc/AmaticSC-Bold.json;" position="-9.01998 1 78.01805" rotation="0 180 0" scale="1.3 1.3 1.3"></a-entity>


   
  
  
 

    <a-assets>
      <a-asset-item id="hallway" src="/hallway/scene.gltf"></a-asset-item>
    </a-assets>

    <a-assets>
        <a-asset-item id="house" src="/house/scene.gltf"></a-asset-item>
      </a-assets>

    <a-assets>
      <a-asset-item id="street" src="/street/scene.gltf"></a-asset-item>
    </a-assets>

    <a-assets>
      <a-asset-item id="girl1" src="/girl/scene.gltf"></a-asset-item>
    </a-assets>

    <a-assets>
        <a-asset-item id="girl2" src="/girl/scene.gltf"></a-asset-item>
      </a-assets>

      <a-assets>
          <a-asset-item id="girl3" src="/girl/scene.gltf"></a-asset-item>
        </a-assets>

        <a-assets>
            <a-asset-item id="girl4" src="/girl/scene.gltf"></a-asset-item>
          </a-assets>

          <a-assets>
              <a-asset-item id="people" src="/people/scene.gltf"></a-asset-item>
          </a-assets>

          <!-- <a-assets>
              <a-asset-item id="tom" src="/tom/scene.gltf"></a-asset-item>
          </a-assets> -->


    <!--Lights-->
    <a-entity benchlight position="-8.907 9.394 46.818" castshadow="true"></a-entity>
    <a-entity abovehouse position="-9.071 9.307 75.087" castShadow="true"></a-entity>
    <a-entity abovelastgirl  position="-9.065 2.248 67.099" castShadow="true"></a-entity>
    <a-entity lastbeforegirl position="-9.065 2.248 58.849" castShadow="true"></a-entity>

    <a-entity door position=" -9.139 1.091 78.431" castShadow="true"></a-entity>
    <a-entity firstlight position="0.052 0.894 13.481" castShadow="true"></a-entity>
    <a-entity light="type: point; intensity: 2; distance: 20; decay: 5" position="-2.511 2.978 7.028" castShadow="true"></a-entity>
    <a-entity lastinbuilding light="type: point; intensity: 5; distance: 27; decay: 5" position="-9.018 3.042 14.862" castShadow="true"></a-entity>
    <a-entity firstoutside position="-9.0 2.3 30" castShadow="true"></a-entity>
    <a-entity secondoutside position="-9.0 2.3 35" castShadow="true"></a-entity>
    <a-entity thirdoutside position="-9.0 2.3 40" castShadow="true"></a-entity>
    <a-entity fourthoutside position="-9.0 2.3 48.0088" castShadow="true"></a-entity>

    <!--Models-->
    <a-entity gltf-model="#hallway" rotation="0 90 0" position="0 -0.325 7"></a-entity>
    <a-entity gltf-model="#street" rotation="0 0 0" position="-1.408 -0.461 51.336" scale="0.01 0.01 0.01"></a-entity>
    <a-entity firstmodel gltf-model="#girl1" scale="0.3 0.3 0.3"rotation="0 185 0" position="0.000 0.400 14.578"></a-entity>
    <a-entity lastgirl gltf-model="/girl/scene.gltf" scale="0.3 0.3 0.3" rotation="" position="-9.037  0.273 66.968"></a-entity>    <a-entity gltf-model="#girl3" scale="0.3 0.3 0.3"rotation="0 240 0" position="-0.813 0.433 52.967"></a-entity>
    <a-entity girl4 gltf-model="#girl4" scale="0.01 0.01 0.01" rotation="0 360 0"></a-entity>
    <a-entity people gltf-model="/people/scene.gltf" rotation="0 360 0"></a-entity>
    <a-entity gltf-model="#house" rotation="0 180 0" position="-8.754 -0.471 80.208" scale="1.5 1.5 1.5"></a-entity>
    <!-- <a-entity gltf-model="/tom/scene.gltf" rotation="0 0 0" position="-8.998 -0.770 58.874" scale="0.45 0.45 0.45"></a-entity> -->


  

<a-sky color="#000000"></a-sky>

    </a-scene>











<script>
AFRAME.registerComponent('girl4', { 
      tick: function () { 
        if (cameraposition < -36) {
          this.el.setAttribute("position", {x: -9.0, y: 0.299, z: 35});
          this.el.setAttribute("scale", {x: 0.4, y: 0.4, z: 0.4})
          } if (cameraposition < -44) {
          this.el.setAttribute("position", {x: 0, y: 0, z: 0});
          }
        }, 
      });
      

      AFRAME.registerComponent('people', { 
      tick: function () { 
        if (cameraposition < -46) {
          this.el.setAttribute("position", {x: -9.220, y: -0.471, z: 47.965})
          this.el.setAttribute("scale", {x: 0.025, y: 0.025, z: 0.025})
          } 
        },
      });

 

        

AFRAME.registerComponent('benchlight', { 
      tick: function () { 
        if (cameraposition < -48) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 0.5,
              distance: 15,
              decay: 0.01,
            });
          }  if (cameraposition < -58) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          }
        },
      });

      AFRAME.registerComponent('lastinbuilding', { 
      tick: function () { 
        let lastinbuilding = this.el; 
        if (cameraposition < -36.0) {
          lastinbuilding.parentNode.removeChild(lastinbuilding); 
      } 
    } 
  });

      AFRAME.registerComponent('firstoutside', { 
      tick: function () { 
        if (cameraposition < -18) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 7,
              distance: 3,
              decay: 0.1
            });
          } if (cameraposition < -36) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          }
        },

      });

      AFRAME.registerComponent('secondoutside', { 
      tick: function () { 
        if (cameraposition < -19) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 7,
              distance: 3,
              decay: 0.1,
            });
          } if (cameraposition < -44) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          }
        },
      });

      AFRAME.registerComponent('thirdoutside', { 
      tick: function () { 
        if (cameraposition < -20) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 7,
              distance: 3,
              decay: 0.1,
            });
          } if (cameraposition < -44) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          }
        },
      });

      AFRAME.registerComponent('fourthoutside', { 
      tick: function () { 
        if (cameraposition < -21) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 5,
              distance: 3,
              decay: 0.1,
            });
          } if (cameraposition < -58) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          }
        },
      });

      AFRAME.registerComponent('lastbeforegirl', { 
      tick: function () { 
        if (cameraposition < -49) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 4,
              distance: 3,
              decay: 0.001,
            });
          } if (cameraposition < -62) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          }
        },
      });

      AFRAME.registerComponent('abovelastgirl', { 
      tick: function () { 
        if (cameraposition < -58.4) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 4,
              distance: 2.8,
              decay: 0.001,
            });
          }
        },
      });

      AFRAME.registerComponent('abovehouse', { 
      tick: function () { 
        if (cameraposition < -58.4) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 0.4,
              angle: 200,
              distance: 8,
              decay: 1,
            });
          }
        },
      });


      AFRAME.registerComponent('door', { 
      tick: function () { 
        if (cameraposition < -58.4) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 0.4,
              distance: 6.0,
              decay: 0.01,
            });
          }
        },
      });



     



      AFRAME.registerComponent('house', { 
      tick: function () { 
        if (cameraposition < -48) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 1,
              distance: 15,
              decay: 0.01,
            });
          }
        },
      });




      AFRAME.registerComponent('text2', { 
      tick: function () { 
        if (cameraposition < -27) {
          this.el.setAttribute("text", {
              anchor: "center",
              width: 1.5,
              color: "white",
              value: "Don't",
            });
          }
        },
      });

  


      AFRAME.registerComponent('text3', { 
      tick: function () { 
        if (cameraposition < -32) {
          this.el.setAttribute("text", {
              anchor: "center",
              width: 1.5,
              color: "white",
              value: "Look",
            });
          }
        },
      });

      AFRAME.registerComponent('text4', { 
      tick: function () { 
        if (cameraposition < -38) {
          this.el.setAttribute("text", {
              anchor: "center",
              width: 1.5,
              color: "white",
              value: "Back",
            });
          }
        },
      });

      AFRAME.registerComponent('text5', { 
      tick: function () { 
        if (cameraposition < -38) {
          this.el.setAttribute("text", {
              anchor: "center",
              width: 1.5,
              color: "white",
              value: "Back",
            });
          }
        },
      });


      AFRAME.registerComponent('text6', { 
      tick: function () { 
        if (cameraposition < -48) {
          this.el.setAttribute("text", {
              anchor: "center",
              align: "center",
              width: 1.5,
              color: "white",
              value: "Surrounded by strangers\n trapped in her  t h o u g h t s\n\n She only found solitude\n in the abstract of art.",
            });
          }
        },
      });

      AFRAME.registerComponent('text9', { 
      tick: function () { 
        if (cameraposition < -72) {
          this.el.setAttribute("text", {
              anchor: "center",
              align: "center",
              width: 1.5,
              color: "white",
              value: "THE END",
            });
          }
        },
      });

      AFRAME.registerComponent('text7', { 
      tick: function () { 
        if (cameraposition < -58.4) {
          this.el.setAttribute("text", {
              anchor: "center",
              align: "center",
              width: 1.5,
              color: "white",
              value: "She stood outside her house,\n four walls and lonesomeness would keep her sane,\n\nsadness would some say, but solitude for her, alleviating her pain.",
            });
          }
        },
      });

      AFRAME.registerComponent('text8', { 
      tick: function () { 
        if (cameraposition < -38) {
          this.el.setAttribute("text", {
              anchor: "center",
              align: "center",
              width: 1.5,
              color: "white",
              value: "She always did.\nAsking herself why she became this way\nLife throws a dice, and that's who you become\t'why isn't she more like me?' -said everyone.",
            });
          } if (cameraposition < -42) {
            this.el.setAttribute("text", {
              value: "",
            });
          }
        },
      });
     
    
      //Light flicker hallway
      AFRAME.registerComponent('firstlight', { 
      tick: function () { 
        if (cameraposition < 1) {
          this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1,
            });
          } if (cameraposition < -1) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          }  if (cameraposition < -2) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -2.1) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -2.2) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -2.4) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -2.5) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -2.6) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -2.7) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -3.2) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -3.4) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -4) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -4.1) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -4.2) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -4.3) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -5.1) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -5.2) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -5.3) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -5.4) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -6.0) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -6.1) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -6.2) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -6.7) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -6.8) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -6.9) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -7.4) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -7.5) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -7.8) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -7.9) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -8.3) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -8.4) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -8.5) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -8.6) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -8.7) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          } if (cameraposition < -8.8) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 1.5,
              distance: 2.5,
              decay: 0.1
            });
          } if (cameraposition < -9) {
            this.el.setAttribute("light", {
              type: "point",
              intensity: 0,
              distance: 0,
              decay: 0
            });
          }
        },
      });




    let cameraposition = 0;

    AFRAME.registerComponent('listener', {
      tick: function () {
        cameraposition = this.el.object3D.position.z
        // console.log(cameraposition)
      }
     }
    );

    AFRAME.registerComponent('firstmodel', { 
      tick: function () { 
        let firstmodel = this.el; 
        if (cameraposition < -9) {
        firstmodel.parentNode.removeChild(firstmodel); 
      } 
    } 
  });

  // AFRAME.registerComponent('firstlight', { 
  //     tick: function () { 
  //       let firstlight = this.el; 
  //       if (cameraposition < -7.0) {
  //       firstlight.parentNode.removeChild(firstlight); 
  //     } 
  //   } 
  // });

  AFRAME.registerComponent('firstsound', { 
      tick: function () { 
        let firstsound = this.el; 
        if (cameraposition < -10) {
        firstsound.parentNode.removeChild(firstsound); 
      } 
    } 
  });

  // AFRAME.registerComponent('text5', { 
  //     tick: function () { 
  //       let text5 = this.el; 
  //       if (cameraposition < -46) {
  //       text5.parentNode.removeChild(text5); 
  //     } 
  //   } 
  // });
    
    
      </script>
    
  </body>
</html>